# [SPEC-019] audit ã‚³ãƒãƒ³ãƒ‰ã¸ã®å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ãƒªãƒ³ã‚¯æ¤œè¨¼ã®è¿½åŠ 

**å®Ÿè£…çŠ¶æ³**: âœ… implemented

**ä½œæˆæ—¥**: 2026-02-27ã€€|ã€€**æ›´æ–°æ—¥**: 2026-02-27

**ä¸Šä½ã‚¢ã‚¤ãƒ†ãƒ **: [REQ-012](REQ-012.md) / **ä¸‹ä½ã‚¢ã‚¤ãƒ†ãƒ **: [PLAN-001](PLAN-001.md) / **å…„å¼Ÿã‚¢ã‚¤ãƒ†ãƒ **: [SPEC-017](SPEC-017.md), [SPEC-018](SPEC-018.md), [SPEC-020](SPEC-020.md)

**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**:  - ï¼ˆä¸‹ä½ã‚¢ã‚¤ãƒ†ãƒ ã®é›†è¨ˆï¼‰

**ãƒ†ã‚¹ãƒˆå¯¾è±¡**: Yesã€€**å€‹åˆ¥ã‚«ãƒãƒ¬ãƒƒã‚¸**: ğŸŸ¢ 1/1 (100%)


### å†…å®¹

## æ¦‚è¦
`spec-weaver audit` ã‚³ãƒãƒ³ãƒ‰ã«ã€Doorstopã®YAML `ref` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨
ã‚³ãƒ¼ãƒ‰ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®æ•´åˆæ€§ã‚’æ¤œè¨¼ã™ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹ã€‚

## è©³ç´°ä»•æ§˜

### æ–°ã‚ªãƒ—ã‚·ãƒ§ãƒ³
```
spec-weaver audit <feature-dir> [OPTIONS]
  --check-impl          å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ãƒªãƒ³ã‚¯ã®æ¤œè¨¼ã‚’æœ‰åŠ¹åŒ–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ç„¡åŠ¹ï¼‰
  --extensions TEXT     ã‚¹ã‚­ãƒ£ãƒ³å¯¾è±¡ã®æ‹¡å¼µå­ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€‚ä¾‹: py,tsï¼‰
                        æœªæŒ‡å®šæ™‚ã¯å…¨ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¯¾è±¡ã¨ã™ã‚‹
```

### æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯

#### ãƒã‚§ãƒƒã‚¯1: refã«è¨˜è¼‰ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèª
- `ref` ãƒªã‚¹ãƒˆã«å«ã¾ã‚Œã‚‹ãƒ‘ã‚¹ãŒãƒªãƒã‚¸ãƒˆãƒªå†…ã«å®Ÿéš›ã«å­˜åœ¨ã™ã‚‹ã‹ç¢ºèªã™ã‚‹
- å­˜åœ¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Œå£Šã‚ŒãŸãƒªãƒ³ã‚¯ã€ã¨ã—ã¦å ±å‘Šã™ã‚‹

#### ãƒã‚§ãƒƒã‚¯2: refã¨ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®åŒæ–¹å‘ä¹–é›¢æ¤œå‡º
- YAML `ref` ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãŒã‚³ãƒ¼ãƒ‰ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒãªã„ãƒ•ã‚¡ã‚¤ãƒ« â†’ è­¦å‘Š
- ã‚³ãƒ¼ãƒ‰ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ãŒ YAML `ref` ã«è¨˜è¼‰ã•ã‚Œã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ« â†’ è­¦å‘Š

### å‡ºåŠ›å½¢å¼
æ—¢å­˜ã® audit å‡ºåŠ›ã«ç¶šã„ã¦ã€æ–°ã—ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹ï¼š

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”— å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ãƒªãƒ³ã‚¯ã®æ¤œè¨¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âŒ å­˜åœ¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã® ref:
   SPEC-001 â†’ src/spec_weaver/old_file.py (not found)

âš ï¸  ref ã®ã¿ï¼ˆã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãªã—ï¼‰:
   SPEC-002 â†’ src/spec_weaver/cli.py

âš ï¸  ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ã¿ï¼ˆref ãªã—ï¼‰:
   SPEC-003 â† src/spec_weaver/gherkin.py

âœ… ãƒªãƒ³ã‚¯æ¤œè¨¼ å®Œäº†
```

### æ—¢å­˜å‹•ä½œã¸ã®å½±éŸ¿
`--check-impl` ãŒæŒ‡å®šã•ã‚Œãªã„å ´åˆã€æ—¢å­˜ã® audit å‹•ä½œã¯ä¸€åˆ‡å¤‰ã‚ã‚‰ãªã„ã€‚

### ğŸ§ª æ¤œè¨¼ã‚·ãƒŠãƒªã‚ª

- **impl_files ã«ãƒªã‚¹ãƒˆå½¢å¼ã§ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’è¨˜è¿°ã§ãã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:16](../features/impl_link.md)ï¼‰
- **impl_files ãŒæœªè¨­å®šã®å ´åˆã¯ãƒªãƒ³ã‚¯ãªã—ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:22](../features/impl_link.md)ï¼‰
- **ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚­ãƒ£ãƒ³ã§ä»•æ§˜IDã¨ãƒ•ã‚¡ã‚¤ãƒ«ã®å¯¾å¿œã‚’æŠ½å‡ºã§ãã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:30](../features/impl_link.md)ï¼‰
- **1è¡Œã«è¤‡æ•°ã®ä»•æ§˜IDã‚’è¨˜è¿°ã§ãã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:36](../features/impl_link.md)ï¼‰
- **--extensions ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚¹ã‚­ãƒ£ãƒ³å¯¾è±¡ã‚’çµã‚Œã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:43](../features/impl_link.md)ï¼‰
- **ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„** â€” Scenario ï¼ˆ[features/impl_link.feature:50](../features/impl_link.md)ï¼‰
- **--check-impl ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å­˜åœ¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã® impl_files ã‚’æ¤œå‡ºã™ã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:58](../features/impl_link.md)ï¼‰
- **impl_files ã«ã‚ã£ã¦ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒãªã„å ´åˆã¯è­¦å‘Šã‚’å ±å‘Šã™ã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:65](../features/impl_link.md)ï¼‰
- **ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã£ã¦ impl_files ãŒãªã„å ´åˆã¯è­¦å‘Šã‚’å ±å‘Šã™ã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:72](../features/impl_link.md)ï¼‰
- **--check-impl ãªã—ã§ã¯å®Ÿè£…ãƒªãƒ³ã‚¯æ¤œè¨¼ã¯å®Ÿè¡Œã•ã‚Œãªã„** â€” Scenario ï¼ˆ[features/impl_link.feature:79](../features/impl_link.md)ï¼‰
- **--show-impl ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ trace ãƒ„ãƒªãƒ¼ã«å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:87](../features/impl_link.md)ï¼‰
- **ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”±æ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ trace ãƒ„ãƒªãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹** â€” Scenario ï¼ˆ[features/impl_link.feature:93](../features/impl_link.md)ï¼‰
- **--show-impl ãªã—ã§ã¯å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã¯è¡¨ç¤ºã•ã‚Œãªã„** â€” Scenario ï¼ˆ[features/impl_link.feature:100](../features/impl_link.md)ï¼‰